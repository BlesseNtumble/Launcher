/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
buildscript {
    repositories {
        flatDir dirs: '../libs/'
    }
    dependencies {
        classpath ':proguard:'
    }
}
plugins {
    id 'java'
    id 'application'
}

mainClassName = "launcher.ClientLauncher"

repositories {
	mavenCentral()
	maven {
        url "http://clojars.org/repo/"
        url "http://repo.spring.io/plugins-release/"
    }
}

jar {
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
	manifest.attributes("Main-Class": mainClassName);
}

dependencies {
    compile files('../compat/authlib/authlib-clean.jar')
    compile "com.eclipsesource.minimal-json:minimal-json:0.9.4"
    compile "com.google.code.gson:gson:2.8.5"
    compile "com.google.guava:guava:26.0-jre"
	compile project(":libLauncher")
	compileOnly "org.jline:jline:3.9.0"
}

task wrapper(type: Wrapper) {
	gradleVersion = "1.12"
}
task myProguardTask(type: proguard.gradle.ProGuardTask) {
    configuration '../proguard/Launcher.pro'
    injars 'build/libs/Launcher.jar'
    outjars 'build/libs/Launcher-obf.jar'
}
